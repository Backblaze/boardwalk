[build-system]
build-backend = "setuptools.build_meta"
requires = ["setuptools >=62"]

[project]
name = "boardwalk"
description = "Boardwalk is a linear Ansible workflow engine"
dynamic = ["dependencies", "version"]
readme = "README.md"
authors = [
    {name = "Mat Hornbeek (Backblaze, Inc.)", email = "84995001+m4wh6k@users.noreply.github.com"}
]
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: POSIX :: Linux",
    "Operating System :: MacOS"
]
requires-python = ">=3.10"

[project.optional-dependencies]
develop = [
    "black",
    "build",
    "pyright",
    "semgrep",
    "usort"
]

[project.urls]
source = "https://github.com/Backblaze/boardwalk"
issues = "https://github.com/Backblaze/boardwalk/issues"

[project.scripts]
boardwalk = "boardwalk.cli:cli"
boardwalkd = "boardwalkd.cli:cli"

[tool.setuptools.package-data]
boardwalk = ["py.typed"]
boardwalkd = ["static/*.css", "static/*.js", "templates/*.html", "py.typed"]

[tool.setuptools.dynamic]
# We still use a requirements.txt because GitHub's depependency scanner doesn't
# currently support reading dependencies directly from a pyproject.toml, at
# least not also using poetry
dependencies = {file = "requirements.txt"}
version = {file = "VERSION"}

[tool.pyright]
exclude = [
    "build/",
    "dist/",
    "typings/",
]
pythonPlatform = "All"
reportImportCycles = false
reportMissingTypeStubs = false
typeCheckingMode = "strict"
