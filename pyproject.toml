[build-system]
build-backend = "setuptools.build_meta"
requires = ["setuptools >=62"]

[project]
name = "boardwalk"
description = "Boardwalk is a linear Ansible workflow engine"
dynamic = ["version"]
readme = "README.md"
authors = [
    {name = "Mat Hornbeek (Backblaze, Inc.)", email = "84995001+m4wh6k@users.noreply.github.com"}
]
classifiers = [
    "Programming Language :: Python :: 3",
    "Operating System :: POSIX :: Linux",
    "Operating System :: MacOS"
]
requires-python = ">=3.10"
dependencies = [
    "ansible >=6.5.0",
    "ansible-runner >=2.3.0",
    "click >=8.1.3",
    "cryptography >=38.0.3",
    "email-validator >=1.3.0", # Required by pydantic to validate emails using EmailStr
    "pydantic >=1.1.275",
    "tornado >=6.2"
]

[project.optional-dependencies]
develop = [
    "black",
    "build",
    "pyright",
    "semgrep",
    "usort"
]

[project.urls]
source = "https://github.com/Backblaze/boardwalk"
issues = "https://github.com/Backblaze/boardwalk/issues"

[project.scripts]
boardwalk = "boardwalk.cli:cli"
boardwalkd = "boardwalkd.cli:cli"

[tool.setuptools.package-data]
boardwalk = ["py.typed"]
boardwalkd = ["static/*.css", "static/*.js", "templates/*.html", "py.typed"]

[tool.setuptools.dynamic]
version = {file = "VERSION"}

[tool.pyright]
exclude = [
    "build/",
    "dist/",
    "typings/",
]
pythonPlatform = "All"
reportImportCycles = false
reportMissingTypeStubs = false
typeCheckingMode = "strict"
